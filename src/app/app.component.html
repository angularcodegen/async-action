<div class="container my-5">
  <ul class="list-group">
    <li type="button" class="list-group-item active">List of users</li>
    <li *ngFor="let item of users" class="list-group-item d-flex justify-content-between align-items-center">
      <span>(ID: {{ item.id }}) {{ item.name }}</span>
      <span>
        <span *ngIf="item._timer as timer">{{ timer }}</span>
        <button
          [appAsyncAction]="removeUser$"
          [appAsyncActionData]="item"
          appDisableInterceptor
          class="btn btn-danger btn-sm ms-3"
        >
          Remove
        </button>
      </span>
    </li>
  </ul>

  <form [formGroup]="form" class="mt-5">
    <div class="mb-3">
      <label for="name" class="form-label">Name *</label>
      <input formControlName="name" type="text" class="form-control" id="name" autocomplete="off" />
      <label
        *ngIf="(form.get('name')!.touched || form.get('name')!.dirty) && form.get('name')!.invalid"
        class="invalid-feedback d-block"
        for="name"
      >
        Please provide a valid name for user.
      </label>
    </div>
    <div class="text-end">
      <button
        [appAsyncAction]="addUser$"
        [appAsyncActionData]="form.value"
        [appSubmitIfValidInterceptor]="form"
        appDisableInterceptor
        class="btn btn-primary btn-sm"
        type="submit"
      >
        Add new user
      </button>
    </div>
  </form>
</div>
